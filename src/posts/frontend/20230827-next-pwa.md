---
title: "åŠ å…¥PWAåŠŸèƒ½"
date: "2023-08-27"
tag: ["blog", "pwa"]
---
## å‰ç½®
- å…ˆæº–å‚™ service workerã€manifacts.jsonã€logo.png
- å¼•å…¥å¥—ä»¶ï¼š`pnpm add next-pwa`
- ä¿®æ”¹ `next.config.js`
```js
const withPWA = require('next-pwa')({
	dest: 'public'
})
...
module.exports = withPWA(nextConfig);
```
## ç”¢ç”Ÿicon
- åˆ°public/ï¼Œæ–°å¢logo.pngï¼Œä¸¦ä¸‹ï¼š`npx pwa-asset-generator logo.png icons`
	- æˆ– [pwa online generator](https://www.simicart.com/manifest-generator.html/)
## ç”¢ç”Ÿmanifest
- åˆ°public/ï¼Œæ–°å¢ `manifest.json`
```json
{
	"display": "standalone",
	"scope": "/",
	"start_url": "/",
	"name": "Alan Tseng",
	"short_name": "alanhc",
	"display": "minimal-ui",
	"icons": [
		{
			"src": "icons/manifest-icon-192.maskable.png",
			"sizes": "192x192",
			"type": "image/png",
			"purpose": "any"
		},
		{
			"src": "icons/manifest-icon-192.maskable.png",
			"sizes": "192x192",
			"type": "image/png",
			"purpose": "maskable"
		},
		{
			"src": "icons/manifest-icon-512.maskable.png",
			"sizes": "512x512",
			"type": "image/png",
			"purpose": "any"
		},
		{
			"src": "icons/manifest-icon-512.maskable.png",
			"sizes": "512x512",
			"type": "image/png",
			"purpose": "maskable"
		}
	]
}
```
## åŠ å…¥linkã€meta tag
- åˆ° `next-seo.config.js` 
```js
export default {
	...
	additionalMetaTags:{
		{ name: "apple-mobile-web-app-capable", content: "yes" }
	},
	additionalLinkTags: [
		...
		{ rel: 'manifest', href: "/manifest.json" },
		{ rel: "apple-touch-icon", href: "icons/apple-icon-180.png" },

```

çœ‹åˆ°å³ä¸Šè§’æœ‰ä¸‹è¼‰å°±æˆåŠŸäº†ğŸ‰
## ref
- https://www.npmjs.com/package/next-pwa